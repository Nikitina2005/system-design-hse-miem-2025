# Домашнее задание
Доделать High Level Design, добавив в систему дополнительные компоненты и обосновать их целесообразность.

Ваша задача понять, какие дополнительные компоненты ОБЯЗАТЕЛЬНЫ (MUST) в вашей системе, а какие МОЖНО (SHOULD) добавить в систему.

Если знаете, какие конкретно компоненты выбрать (технологии): пишите в реализацию. Если нет, не страшно.

Добавить их на схему в ваш HLD.

# Отчет

## Обязательные компоненты (MUST)
Репликации и шардирования здесь нет, так как это скорее подходы и они были описаны в предыдущем домашнем задании, хотя в данной системе они обязательны.

| Компонент                   | Обоснование                                                                                                                           | Реализация                                |
|-----------------------------|---------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------|
| **Кэш (Redis)**             | Для хранения сессий пользователей, доступных консультантов, очередей заявок, важно для производительности.                        | Redis Cluster                             |
| **CI/CD**                   | Автоматизация развертывания — критично для стабильности обновлений системы с множеством сервисов.                                     | GitHub CI    |
| **IdP (Identity Provider)** | Единый механизм аутентификации всех пользователей (покупатели, сотрудники магазинов, консультанты). | Keycloak                                  |
| **API Gateway**             | Нужно для управления API, авторизации и аутентификации, удобства масштабирования.                                                             | Tyk                            |
| **WAF**                     | Необходим для защиты API-запросов с авторизацией и вложениями. Минимизирует риски атак на уязвимости API.                             | Cloudflare WAF с настройкой под API       |
| **Load Balancer**           | Горизонтальное масштабирование сервисов (управление заявками, оценками, авторизацией). Обеспечивает отказоустойчивость.               | NGINX (L7) + Yandex Load Balancer |
| **Резервное копирование**   | Гарантирует восстановление заявок, истории обращений, оценок и других данных, критично для соблюдения требований 152-ФЗ.                             | Снэпшоты S3 + WAL-G, так как он может использоваться для бэкапа как для PostgreSQL, так и для MongoDB        |
| **Observability**           | Необходимо для отслеживания логов и метрик, а также для диагностики проблем, например, задержки назначения консультанта или ошибки при создании заявки.   | Prometheus + Grafana|
| **GeoDNS**            | Важно, так как система изначально рассчитана на пользователей с геолокацией по всей стране. | Yandex DNS     |

## Рекомендуемые компоненты (SHOULD)

| Компонент             | Обоснование                                                                                          | Реализация                |
|-----------------------|------------------------------------------------------------------------------------------------------|---------------------------|
| **CDN**               | Для вложений (фото, других файлов) минимизация задержек при загрузке для пользователей по всей стране. | S3 + Cloudflare       |
| **Service Mesh**      | При росте числа сервисов потребуется управление взаимодействием между узлами.      | Istio                     |
| **Circuit Breaker, Retry, Rate Limiting**      | При расширении системы и росте нагрузки на нее нужно будет поддерживать отказоустойчивость системы.      | Istio                     |
| **Feature Flags**     | Для безопасного включения новых функций (например, новых типов заявок или нового UI).                | LaunchDarkly                    |
